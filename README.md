# 資產管理系統 (Asset Management System)

## 專案簡介
這是一個現代化的資產管理系統，專門用於管理企業的動產和不動產投資。系統提供直觀的使用者介面，協助企業有效管理和追蹤各類資產。

## 主要功能
- 投資項目管理
  - 動產投資管理（設備、機械等）
  - 不動產投資管理（廠房、土地等）
  - 支援多公司和會員關聯
- 租賃與分潤管理
- 歷史記錄追蹤
- 發票管理
- 投資報表生成

## 技術特點
- 前端框架：React + TypeScript
- UI 框架：Material-UI (MUI)
- 狀態管理：React Hooks
- 資料持久化：LocalStorage + RESTful API
- 開發工具：Vite

## 系統需求
- Node.js 16.x 或以上
- npm 7.x 或以上
- 現代瀏覽器支援（Chrome, Firefox, Safari, Edge）

## 安裝說明
1. 克隆專案
```bash
git clone [repository-url]
cd asset_mgmt
```

2. 安裝依賴
```bash
npm install
```

3. 啟動開發服務器
```bash
npm run dev
```

4. 建置生產版本
```bash
npm run build
```

## 更新日誌

### v3.5.10 (最新)
- 修復投資項目創建功能
  - 修正表單驗證邏輯，添加必填欄位檢查
  - 改進錯誤提示顯示
  - 修正 API 調用方式，確保正確創建投資項目
  - 優化使用者體驗

### v3.5.9
- 添加租金收款管理清除功能
  - 新增「清除租金項目」按鈕
  - 支援按年度和月份清除租金項目
  - 添加確認對話框防止誤操作
  - 優化使用者體驗

### v3.5.8
- 修復投資項目刪除功能
  - 添加刪除確認對話框
  - 完善刪除處理邏輯
  - 優化使用者體驗

### v3.5.7
- 修復會員分潤顯示問題
  - 修正會員名稱顯示錯誤
  - 優化分潤項目生成邏輯
  - 改進測試數據

### v3.5.6
- 改進租金收款和會員分潤功能
  - 優化表單欄位標籤和ID屬性
  - 改進表單自動填充功能
  - 提升無障礙訪問支持

### v3.5.1
- 完善租賃與分潤管理功能
  - 新增租賃標準設定
    * 支援按投資項目設定月租金
    * 支援設定生效日期和結束日期
    * 支援備註說明
  - 新增分潤標準設定
    * 支援多種分潤方式（百分比、固定金額等）
    * 支援設定分潤期間
    * 支援備註說明
  - 資料持久化存儲
    * 使用 localStorage 保存設定資料
    * 登出後資料不會消失
  - 新增組件
    * `RentalStandardTab`：租賃標準設定頁面
    * `ProfitSharingStandardTab`：分潤標準設定頁面

### v3.4.9
- 修正所有 TypeScript 錯誤
- 完成投資管理功能基礎建設

### v3.4.7
- 優化資料同步機制
- 修復所屬公司和會員選擇問題
- 改進本地資料持久化
- 移除冗餘的日誌輸出

## 授權
MIT License

## 貢獻指南
歡迎提交 Issue 和 Pull Request 來協助改進專案。

## 專案概述

這是一個基於 React + TypeScript 的資產管理系統，提供會員管理、會費管理、投資組合追蹤、資產配置等功能的網頁應用程式。

## 目前進度 (v3.4)

### 已完成功能

#### ✅ 專案基礎架構
* Webpack 配置
* React + TypeScript 環境建置
* Material-UI 整合
* 響應式設計

#### ✅ 主要導航框架
* 響應式側邊導航欄
* 主要內容區域配置
* 路由系統建置

#### ✅ 會員管理模組
* 會員登入系統
* 會員資料 CRUD
* 批次操作功能
* 資料匯入/匯出
* 會員等級管理
* 狀態管理

#### ✅ 會費管理模組 (v3.3 新增)
* 會費標準設定
  - 一般會員：3萬/年
  - 商務會員：30萬/年
  - 終身會員：300萬/5年
  - 支援費用標準調整
* 收款狀況管理
  - 會員繳費狀態追蹤（待收、已收、延遲、終止）
  - 會員搜尋功能
* 發票管理
  - 會員發票資訊管理
  - 發票資訊編輯
  - 發票列印功能

#### ✅ 使用者偏好設定
* 投資偏好管理
* 風險承受度設定
* 投資期限設定

#### ✅ 投資管理模組 (v3.3.2 新增)
* 投資總覽
* 動產投資管理
  - 新增/編輯動產投資
  - 動產資訊管理
  - 合約檔案管理
* 不動產投資管理
  - 新增/編輯不動產投資
  - 不動產資訊管理
  - 合約檔案管理
* 租金與收益管理
  - 租金收款記錄
  - 收款狀態追蹤
  - 分潤機制
    * 百分比分潤
    * 固定金額分潤
    * 自訂分潤方式
    * 最低/最高分潤金額設定

### 開發中功能

#### 🚧 會費管理模組擴充
* 催繳通知功能
  - 自動提醒機制
  - 通知方式設定
  - 通知紀錄追蹤
* 年費報表功能
  - 收款統計報表
  - 繳費狀況分析
  - 收入預測

#### 🚧 公司資訊模組
* 公司簡介
* 最新消息
* 投資標的介紹

#### 🚧 投資管理模組
* 投資總覽
* 動產投資管理
* 不動產投資管理
* 租金與收益管理

### 待開發功能

1. 會員服務模組
   * 入會申請
   * 投資諮詢預約
   * 專屬投資方案

2. 交易支付模組
   * 資金管理
   * 合約管理
   * 支付功能

3. 通知提醒模組
   * 投資回報提醒
   * 合約到期提醒
   * 市場動態推播

4. 安全隱私模組
   * 多層身份驗證
   * 資料加密存取
   * 隱私管理設定

## 技術堆疊

* 前端框架：React 18
* 開發語言：TypeScript 5
* UI 框架：Material-UI (MUI) v5
* 路由管理：React Router v6
* 建置工具：Webpack 5
* 版本控制：Git

## 本地開發

1. 安裝依賴：
```bash
npm install
```

2. 啟動開發服務器：
```bash
npm start
```

3. 訪問開發環境：
```
http://localhost:3000
```

### 預設管理員帳號
* 帳號：admin
* 密碼：admin6688

## 專案結構

```
src/
├── components/     # React 組件
│   ├── layout/    # 佈局組件
│   └── pages/     # 頁面組件
├── contexts/      # React Context
├── services/      # API 服務
├── types/         # TypeScript 類型定義
└── utils/         # 工具函數
```

## 版本歷史

### v3.4.1
- 新增會費報表功能
  - 儀表板顯示：年度總收、年度待收、各類別會員總收
  - 支援年度篩選功能（全部/個別年度）
  - 動態報表欄位選擇
  - Excel 報表匯出功能
  - 優化發票/收據狀態顯示

### v3.4
- 優化會費管理功能
- 擴充收款方式管理
- 支援篩選及管理收款方式
- 介面優化，統一輸入框大小
- 移除收據號碼欄位

### v3.3.5
* 會費管理功能優化
  - 歷史記錄管理功能強化
    * 新增編輯功能
    * 新增刪除功能
  - 匯出報表功能優化
    * 優化 CSV 匯出格式
    * 改善中文編碼支援
    * 精簡報表欄位

### v3.3.4
* 介面優化
  - 新增版權資訊顯示
  - 新增版本號顯示與控制功能
    * 支援滑鼠左鍵增加版本號
    * 支援滑鼠右鍵減少版本號
    * 自動處理版本號進位與退位

### v3.3.3
* 投資管理功能擴充
  - 新增累積租金顯示
  - 新增累積分潤計算與顯示
    * 支援百分比分潤自動計算
    * 支援固定金額分潤自動計算
    * 自動套用最低/最高分潤限制

### v3.3.2
* 新增投資管理功能模組
* 實作動產與不動產投資管理
* 新增租金收款記錄功能
* 添加分潤機制功能
  - 支援百分比分潤
  - 支援固定金額分潤
  - 支援自訂分潤方式
  - 支援最低/最高分潤金額設定

### v3.3
* 新增會費管理功能模組
* 實作會費標準設定
* 新增收款狀況管理
* 添加發票管理功能

### v3.0
* 完成會員管理功能
* 實現使用者認證系統
* 添加使用者偏好設定
* 優化使用者介面

### v2.0
* 重構專案架構
* 升級核心依賴
* 改善開發流程

### v1.0
* 初始化專案結構
* 設置基本開發環境

## 注意事項

* 建議在 Chrome 或 Firefox 最新版本中進行開發測試
* 開發時請遵循專案的程式碼規範
* TypeScript 嚴格模式已啟用
* 請確保 Node.js 版本 >= 16.0.0

## 貢獻指南

1. Fork 專案
2. 創建功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交變更 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 發起合併請求

## 聯絡方式

* GitHub Issues: [提交問題](https://github.com/marmotkit/asset_mgmt_v2/issues)
* Email: [待定]

## 功能特點

### 基礎管理
- 會員管理
- 公司管理
- 投資項目管理
  - 動產投資
  - 不動產投資

### 租賃管理
- 租賃標準設定
  - 設定每個投資項目的租金金額
  - 可設定生效期間
  - 支援修改和刪除功能

- 租金收款管理
  - 依年度批次生成租金收款項目
  - 可選擇要生成的投資項目
  - 自動處理跨年度合約（如：2025/3/6-2026/3/5）
  - 支援編輯收款狀態、收款方式和日期
  - 可刪除錯誤的收款項目

### 分潤管理
- 分潤標準設定
  - 支援固定金額和百分比兩種分潤方式
  - 可設定最低和最高分潤金額
  - 可設定生效期間
  - 支援修改和刪除功能

- 會員分潤管理
  - 依年度批次生成會員分潤項目
  - 可選擇要生成的投資項目
  - 自動根據租金金額計算分潤金額
  - 支援編輯發放狀態、發放方式和日期
  - 可刪除錯誤的分潤項目

### 發票管理
- 多種發票類型：支援二聯式發票、三聯式發票和收據
- 批次列印：可批次列印發票和收據
- 發票狀態追蹤：追蹤發票的開立和列印狀態
- 自動帶入承租人資訊：開立發票時自動帶入承租人資訊

## 技術規格

### 前端
- React 18
- TypeScript
- Material-UI (MUI)
- React Router
- Notistack（通知提示）

### 開發工具
- Webpack
- ESLint
- Prettier

## 版本紀錄

### v3.5.4
- 改進投資歷史記錄功能
  - 新增年度統計儀表板
    * 顯示最近 5 年的統計資料
    * 每年度顯示：已收租金、已發放分潤、淨收入
    * 使用卡片式設計，清晰展示各年度數據
  - 優化歷史記錄列表
    * 新增年度篩選功能
    * 顯示已收租金和已發放分潤的詳細記錄
    * 依日期排序，方便查找
  - 改進資料載入機制
    * 自動載入最近 5 年的所有資料
    * 優化載入效能
    * 完善錯誤處理機制

### v3.5.3
- 修正統計報表功能
  - 修正租金收款金額計算錯誤
  - 修正投資項目租金統計錯誤
  - 改進金額格式化邏輯
  - 確保所有金額正確顯示

### v3.5.2
- 改進租金收款和會員分潤功能
  - 新增投資項目選擇功能
  - 優化跨年度租金收款生成邏輯
  - 改進錯誤處理和提示訊息
  - 移除多餘的確認對話框

### v3.5.1
- 完善租金收款和會員分潤功能
  - 修正重複生成問題
  - 優化錯誤處理機制
  - 改進使用者介面

### v3.5.0
- 新增租金收款和會員分潤功能
  - 實作租賃標準設定
  - 實作分潤標準設定
  - 新增收款和分潤項目生成功能

### v3.5.5 (2023-03-10)
- 新增發票管理功能：支援二聯式發票、三聯式發票和收據
- 改進發票列印功能：每種類型的發票都有對應的聯式（存根聯、收執聯、報帳聯）
- 優化發票水印顯示：確保每個聯式都有正確的水印
- 改進列印頁面佈局：確保列印時每個聯式都在新的一頁上

### v3.5.2 (2023-03-05)
- 改進租金收款和會員分潤功能
- 新增投資項目選擇功能
- 優化跨年度租金收款生成邏輯
- 改進錯誤處理和提示訊息

### v3.5.1 (2023-03-01)
- 修復會員管理頁面的錯誤
- 改進投資項目列表的排序和篩選功能
- 優化使用者介面的響應式設計

### v3.5.0 (2023-02-25)
- 新增會員分潤功能
- 新增租金收款管理功能
- 改進投資項目管理介面
- 新增資料匯出功能


